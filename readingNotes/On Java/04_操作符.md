# 4. 操作符

- [4. 操作符](#4-操作符)
  - [4.1. 使用Java操作符](#41-使用java操作符)
  - [4.2. 优先级](#42-优先级)
  - [4.3. 赋值](#43-赋值)
  - [4.4. 算术操作符](#44-算术操作符)
    - [4.4.1. 一元加操作符和一元减操作符](#441-一元加操作符和一元减操作符)
  - [4.5. 自动递增和自动递减](#45-自动递增和自动递减)

## 4.1. 使用Java操作符

- 操作符接收一个或多个参数，然后生成一个新的值。
- 所有操作符都是通过它们的操作数来生成新值的。
- 另外，有些`操作符会修改操作数自身的值`，这也叫作“副作用”。
- 几乎所有的操作符都只能操作基本类型。例外的是`=`、`==`和`!=`，它们也能操作对象。另外，`String`类也支持`+`和`+=`；

## 4.2. 优先级

- 当多个操作符同时存在时，操作符的优先级决定了表达式的计算顺序。
- Java对计算顺序做了特别规定。最简单的规则就是先`乘除后加减`。
- 程序员经常会忘记其他优先级规则，可以用`括号来明确指定计算顺序`。

## 4.3. 赋值

- 操作符`=`号用来赋值。它的意思是“取等号右边的值（称‘右值’），把它复制给等号左边（称‘左值’）”。
- 右值可以是任何常量、变量或者可以生产值的表达式。左值必须是一个独特的命名变量（也就是说，必须有一个物理空间来存储右值）。
- 基本类型的赋值是很直观的。基本类型存储了实际的值，而非指向一个对象的引用，所以在赋值时，直接将一个地方的内容**复制**到另一个地方。
- 对象赋值时，我们`真正操作的是这个对象的引用`。所以当“将一个对象赋值给另一个对象”时，其实是将这个引用从一个地方赋值到另一个地方。这种现象通常称作`别名`，是Java操作对象的一种基本方式。
- 方法调用中的别名：将一个对象作为参数传递给方法时，也会产生别名。

## 4.4. 算术操作符

- Java的基本算术操作符与其他大多数编程语言相同，包括：加法（+）、减法（-）、乘法（*）、除法（/）和取模（%，它从除法中产生余数）。

- 快捷运算符，可以同时进行运算和赋值操作。比如，把 x 加4，然后将结果赋回给x，可以这么写：`x += 4`；

> 为了生成随机数，上面的程序首先创建了一个 `Random` 对象。如果创建时没有传递任何参数，Java会使用当前时间作为随机生成器的种子，这样就能在程序每次执行时产生不同的输出。通过在创建Random对象时提供种子（用作在每次执行程序时都生成相同的随机数）。

### 4.4.1. 一元加操作符和一元减操作符

- 一元减（-）和一元加（+）与二元加减使用的是相同的符号。编译器会根据表达式的书写形式自动判断出使用的是哪一种。例如：`x = a * -b`; 但是阅读者可能会被搞糊涂，所以应该更明确地写成： `x = a * (-b)`；

## 4.5. 自动递增和自动递减

- Java也提供了大量的快捷运算符，这些快捷运算符方便了代码输入，如果用得好会使代码更容易阅读，但有时也可能使代码更难理解。

- 递减操作符是`--`，意为“减少一个单位”；递增操作符是`++`，意为“增加一个单位”；

- 递增和递减操作符有两种使用方式，通常称为`前缀式`和`后缀式`.
  - `前缀递增`表示++操作符位于变量之前；例如：`++i`；程序会先执行运算，然后返回生成的结果；
  - `后缀递增`表示++操作符位于变量之后；例如：`i++`；程序则会先返回变量的值，然后再执行运算；

``` java
public class AutoInc {
  public static void main(String args[]) {
    int i = 1;
    System.out.println("i: " + i); // i: 1
    System.out.println("++i: " + ++i); // 前缀递增 ++i: 2
    System.out.println("i++: " + i++); // 后缀递增 i++: 2
    System.out.println("i: " + i); // i: 3
    System.out.println("--i: " + --i); // 前缀递减 --i: 2
    System.out.println("i--: " + i--); // 后缀递减 i--: 2
    System.out.println("i: " + i); // i: 1
  }
}
```

> 注意： 对于前缀形式，我们在执行完运算后才得到返回值。但对于后缀形式，则是先获得返回值再执行运算；

