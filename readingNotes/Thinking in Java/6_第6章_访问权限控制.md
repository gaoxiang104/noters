# 第6章 访问权限控制

- [第6章 访问权限控制](#第6章-访问权限控制)
  - [6.1 包：库单元](#61-包库单元)
    - [6.1.1 代码组织](#611-代码组织)
    - [6.1.2 创建独一无二的包名](#612-创建独一无二的包名)
    - [6.1.3 定制工具库](#613-定制工具库)
    - [6.1.4 用import改变行为](#614-用import改变行为)
    - [6.1.5 对使用包的忠告](#615-对使用包的忠告)
  - [6.2 Java访问权限修饰词](#62-java访问权限修饰词)
  - [6.3 接口和实现](#63-接口和实现)
  - [6.4 类的访问权限](#64-类的访问权限)
  - [总结：](#总结)

Java提供了访问权限修饰词，以供类库开放人员向客户端程序员指明哪些是可用端，哪些是不可用端。访问权限控制的等级，从最大权限到最小权限依次为：`public`，`protected`，`包访问权限（没有关键词）`，`private`。

## 6.1 包：库单元

包内包含有一组类，它们在单一的名字空间之下被组织在了一起。

`package`关键字来定义包名称；
`import`关键字的作用：import关键字是用来导入：某个类库、某个类、某个静态属性或方法；

### 6.1.1 代码组织

据书中所述和一般开发习惯，总结如下：

1. *.java文件中必须包含一个与该文件名相同的类，类名按照驼峰的方式编写，首字母大写；
2. 每个.java文件只能有一个public类，该类名必须于.java文件名相同，以及任意数量的非public类；
3. 使用package语句，它必须是文件中除注释以外的第一句程序代码。

### 6.1.2 创建独一无二的包名

一个包从未真正将被打包的到女性包装撑单一文件，并且一个包可以由许多.class文件构成。为了避免这种情况的发生，`一种合乎逻辑的做法就是将特定包的所有.class文件都置于一个目录下`。利用操作系统都层次化的文件结构来解决这一问题。

**怎样创建独一无二的名称以及怎样查找有可能隐藏于目录结构中某处的类**这些任务是通过将.class文件所在的路径位置编码成package的名称来实现的。

package名称的第一部分是类的创建者的反顺序的internet域名+库名称，例如：`org.apache.xxx`。注：*包名全部小写！*

第二部分是把package名称分解为机器上的一个目录。所以当Java程序运行并且需要加载.class文件的时候，它就可以确定.class文件在目录上所处的位置。

### 6.1.3 定制工具库

创建自己的工具类库来减少或消除重复的程序代码。

### 6.1.4 用import改变行为


### 6.1.5 对使用包的忠告

务必记住，无论何时创建包，都已经在给定包的名称的时候隐含地指定来目录结构。这个包必须位于其名称所指定的目录之中，而该目录必须是在以CLASSPATH开始的目录中可以查询到的。

## 6.2 Java访问权限修饰词

| 权限修饰符 | 类内部 | 本包 | 子类 | 外部包 |
| -------- | ----- | --- | --- | ----- |
| public | Y | Y | Y | Y |
| protected | Y | Y | Y | N |
| default | Y | Y | N | N |
| private | Y | N | N | N |

## 6.3 接口和实现

**访问权限的控制常被称为是*具体实现的隐藏***。把数据和方法包装进类中，以及具体实现的隐藏，常共同被称作***封装***。

## 6.4 类的访问权限

1. 每个编译单元（.java文件）都只能有一个public类。
2. public类都名称必须完全与含有该编译单元都文件名相匹配，包括大小写。
3. 虽然不常用，但编译单元内完全不带public类也是可能的。在这种情况下，可以随意对文件命名。（一般不会这么用）。

***注意：***类既不可以是private的（这样会使得除该类之外，其他任何类都不可以访问它），也不可以是protected。


## 总结：

- default (即默认，什么也不写）: 在同一包内可见，不使用任何修饰符。使用对象：类、接口、变量、方法。
- private : 在同一类内可见。使用对象：变量、方法。 注意：不能修饰类（外部类）
- public : 对所有类可见。使用对象：类、接口、变量、方法
- protected : 对同一包内的类和所有子类可见。使用对象：变量、方法。 注意：不能修饰类（外部类）。